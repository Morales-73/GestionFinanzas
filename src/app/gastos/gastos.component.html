<h1>Gastos</h1>
<form (ngSubmit)="agregarGasto()">
    <div class="form-group">
      <label for="name">Nombre:</label>
      <input type="text" id="name" [(ngModel)]="gasto.nombre" name="name" class="form-control" required>
    </div>
    <div class="form-group">
      <label for="detail">Detalle:</label>
      <textarea id="detail" [(ngModel)]="gasto.detalle" name="detail" class="form-control"></textarea>
    </div>
    <div class="form-group">
      <label for="Price">Precio:</label>
      <input type="number" id="Price" [(ngModel)]="gasto.precio" name="Price" class="form-control" required>
    </div>
    <div class="form-group">
      <label for="category">Categoría:</label>
      <select id="category" [(ngModel)]="gasto.categoria" name="category" class="form-control" required>
        <option *ngFor="let categoria of categorias" [value]="categoria.nombre">{{ categoria.nombre }}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="date">Fecha:</label>
      <input type="date" id="date" [(ngModel)]="gasto.fecha" name="date" class="form-control" required>
    </div>
    <button type="submit" class="btn btn-primary">Guardar Gasto</button>
  </form>

<h2>Listado de Gastos</h2>

<div class="form-group">
  <label for="categoryFilter">Categoría:</label>
  <select id="categoryFilter" [(ngModel)]="categoriaSeleccionada" name="categoryFilter" class="form-control" required>
    <option value="">Todas las categorías</option>
    <option *ngFor="let categoria of categorias" [value]="categoria.nombre">{{ categoria.nombre }}</option>
  </select>
</div>

<!-- Botón para aplicar el filtro -->
<button (click)="aplicarFiltro()" class="btn btn-primary">Filtrar</button>

<table class="table">
  <thead>
    <tr>
      <th>Nombre</th>
      <th>Detalle</th>
      <th>Precio</th>
      <th>Categoría</th>
      <th>Fecha</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let gasto of gastos">
      <td>{{ gasto.nombre }}</td>
      <td>{{ gasto.detalle }}</td>
      <td>{{ gasto.precio | currency }}</td>
      <td>{{ gasto.categoria }}</td>
      <td>{{ gasto.fecha | date }}</td>
    </tr>
  </tbody>
</table>